<div class="modal-header">
	<h4 class="modal-title">
		<span jhiTranslate="cop.matrix.header"></span>
	</h4>
	<button type="button" class="close" data-dismiss="modal" aria-hidden="true" (click)="close()">&times;</button>
</div>
<div class="modal-body">
	<div>
		<i class="throbber" *ngIf="isLoading"></i>
	</div>
	<div class="table-responsive" *ngIf="response && response?.array else asyncInProgress">
		<table class="table table-striped table-bordered table-curved">
			<thead>
			<tr>
				<th *ngFor="let gid of response?.array[0]">{{gid}}</th>
			</tr>
			</thead>
			<tbody>
			<tr *ngFor="let row of response?.array.slice(1)">
				<td *ngFor="let col of row; index as i" [class.font-weight-bold]="i === 0">
					{{i === 0 ? col : col | number: '1.0-4'}}
				</td>
			</tr>
			</tbody>
		</table>
	</div>
	<ng-template #asyncInProgress>
		<div *ngIf="!isLoading && response">
			<div class="mb-3">
				<span jhiTranslate="cop.async.in.progress"></span>
				<button type="button" class="btn btn-secondary ml-3" (click)="cancelJobs()">
					<span class="fa fa-ban"></span>&nbsp;<span [title]="cancelTooltip" jhiTranslate="entity.action.cancel"></span>
				</button>
			</div>
			<div class="progress">
				<div class="progress-bar progress-bar-striped progress-bar-animated bg-info" role="progressbar"
					 [attr.aria-valuenow]="response?.progress" aria-valuemin="0" aria-valuemax="100"
					 [style.width.%]="response?.progress">{{response?.progress | number}} %
				</div>
			</div>
		</div>
	</ng-template>
</div>
